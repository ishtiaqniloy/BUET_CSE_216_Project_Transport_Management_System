CREATE TABLE TRANSPORTMANAGEMENT.APPLICATION (
APPLICATION_NUMBER NUMBER(25) NOT NULL ,
DRIVER_NID NUMBER(25) NOT NULL ,
EXAM_DATE DATE NULL ,
RESULT VARCHAR2(255) NULL ,
PRIMARY KEY (APPLICATION_NUMBER)
)
NOCOMPRESS
;

ALTER TABLE TRANSPORTMANAGEMENT.APPLICATION ADD CONSTRAINT APPLICATION_DRIVER FOREIGN KEY (DRIVER_NID) REFERENCES TRANSPORTMANAGEMENT.DRIVER (DRIVER_NID) ON DELETE CASCADE;


Declare 
	counter NUMBER;
BEGIN
	counter := 1 ;

FOR R IN (SELECT DRIVER_NID , ISSUE_DATE  FROM LICENSE)
LOOP
	INSERT INTO APPLICATION VALUES (counter, R.DRIVER_NID, R.ISSUE_DATE-30, 'Pass');
	counter := counter + 1;
END LOOP;
END;