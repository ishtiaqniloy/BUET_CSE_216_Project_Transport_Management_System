CREATE OR REPLACE TRIGGER BEFOREVEHICLEDELETION
	BEFORE DELETE
	ON VEHICLE
	FOR EACH ROW
DECLARE

BEGIN
		UPDATE OWNER o
		SET o.NUMBER_OF_VEHICLES = o.NUMBER_OF_VEHICLES - 1
		WHERE o.OWNER_NID = :OLD.OWNER_NID;
		
		DELETE FROM OWNER O WHERE O.OWNER_NID = :OLD.OWNER_NID AND O.NUMBER_OF_VEHICLES = 0;


END;
/	